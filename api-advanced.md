## 1. Именование ресурсов

В REST API ресурсы должны именоваться существительными во множественном числе. Это делает API интуитивно понятным и предсказуемым.

*   ✅ `/users` – список пользователейей
* *   ✅ `/users/123` – конкретный пользователь
**   ✅ `/users/123/orders` – заказы конкретного пользователяя
* *   ❌ `/getUser` – глагол (RPC стиль)
**   ❌ `/user` – единственное числоо

## 2. HTTP Методы: Полный список

| Метод | Идемпотентность | Описание | Пример |
| :--- | :--- | :--- | :--- |
| **GET** | Да | Получение ресурса. Не изменяет состояние сервера. | `GET /users` |
| **POST** | Нет | Создание нового ресурса. | `POST /users` |
| **PUT** | Да | Полное обновление ресурса. Если ресурса нет, он может быть создан. | `PUT /users/123` |
| **PATCH** | Нет (обычно) | Частичное обновление ресурса. | `PATCH /users/123` |
| **DELETE** | Да | Удаление ресурса. | `DELETE /users/123` |
| **HEAD** | Да | Как GET, но возвращает только заголовки. Полезно для проверки существования ресурса. | `HEAD /users/123` |
| **OPTIONS** | Да | Запрос доступных методов для ресурса (CORS). | `OPTIONS /users` |

## 3. Коды ответов HTTP

### 2xx: Успех
*   `200 OK`: Стандартный успешный ответ.т.
**   `201 Created`: Ресурс успешно создан (обычно в ответ на `POST`)..
**   `204 No Content`: Успешно, но тела ответа нет (часто при `DELETE`)..

### 3xx: Перенаправление
*   `301 Moved Permanently`: Ресурс перемещен навсегда.а.
**   `304 Not Modified`: Ресурс не изменился (кэширование)..

### 4xx: Ошибки клиента
* *   `400 Bad Request`: Некорректный запрос (ошибка валидации).
*   `401 Unauthorized`: Требуется аутентификация.я.
*   `403 Forbidden`: Доступ запрещен (есть аутентификация, но нет прав).).
**   `404 Not Found`: Ресурс не найден..
* *   `405 Method Not Allowed`: Метод не поддерживается для этого ресурса.
**   `429 Too Many Requests`: Превышен лимит запросов..

### 5xx: Ошибки сервера
*   `500 Internal Server Error`: Внутренняя ошибка сервера.а.
*   `502 Bad Gateway`: Ошибка шлюза.а.
**   `503 Service Unavailable`: Сервис временно недоступен..

## 4. Пагинация (Pagination)

Когда данных много, их нужно отдавать порциями. Существует три основных подхода:

### Offset Pagination (Смещение)
Самый простой способ. Клиент указывает, сколько записей пропустить (`offset`) и сколько взять (`limit`).

**   **Запрос:** `GET /items?limit=20&offset=40``
*   **Плюсы:** Простота реализации, возможность перейти на любую страницу.
*   **Минусы:** Медленно работает на больших объемах данных (OFFSET scan), проблемы при добавлении/удалении данных (сдвиг страниц).

### Cursor Pagination (Курсор)
Использует уникальный идентификатор (курсор) последней полученной записи для запроса следующей порции.

*   **Запрос:** `GET /items?limit=20&cursor=eyJpZCI6MTIzfQ==`=`
*   **Плюсы:** Очень быстро (использует индекс), стабильно при изменении данных.
*   **Минусы:** Нельзя перейти на произвольную страницу, сложнее в реализации.

### Page Pagination (Страницы)
Абстракция над Offset. Клиент запрашивает номер страницы.

**   **Запрос:** `GET /items?page=3&size=20``
*   **Плюсы:** Понятно пользователю.
*   **Минусы:** Те же проблемы с производительностью, что и у Offset.

## 5. Версионирование API

API меняется, и важно не ломать старых клиентов.

### Через URL (URI Path)
Самый популярный способ.
*   `GET /api/v1/users`s`
*   `GET /api/v2/users`s`

### Через заголовки (Headers)
Более "чистый" REST подход.
**   `Accept: application/vnd.myapi.v1+json``

### Через параметры запроса (Query Params)
Просто, но не всегда удобно.
*   `GET /users?version=1`1`

## 6. Идемпотентность

Идемпотентность означает, что повторный вызов одного и того же запроса приведет к тому же состоянию сервера, что и один вызов.

*   **Идемпотентные:** GET, PUT, DELETE, HEAD, OPTIONS.
*   **Неидемпотентные:** POST, PATCH (обычно).

Это важно для обработки сетевых сбоев: если клиент не получил ответ на идемпотентный запрос, он может безопасно повторить его.
