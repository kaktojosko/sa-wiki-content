## Введение

`DBeaver` и `Navicat` - популярные инструменты для работы с базами данных, которые часто используются системными аналитиками для анализа схем, проверки гипотез и валидации требований к данным. Оба инструмента решают сходные задачи, но имеют разные сильные стороны.

## Основные концепции

### Когда аналитику нужен SQL-клиент

* проверить фактическую структуру БД;
* оценить качество данных;
* быстро проверить бизнес-гипотезу SQL-запросом;
* воспроизвести инцидент на тестовых данных;
* собрать evidence для постановки задачи.

### DBeaver

Сильные стороны:

* широкая поддержка СУБД;
* удобный Data Editor;
* ER-диаграммы и работа с метаданными;
* хорошая функциональность в бесплатной версии.

### Navicat

Сильные стороны:

* удобный GUI для администрирования;
* развитые инструменты миграций/синхронизации;
* визуальные мастера для задач DBA-направления;
* часто используется в командах с акцентом на коммерческие desktop-инструменты.

## Практические примеры

### Пример 1: проверка бизнес-правила SQL-запросом

Задача: убедиться, что возврат не создаётся для заказа со статусом `SHIPPED`.

```sql
SELECT o.id, o.status, r.id AS refund_id
FROM orders o
LEFT JOIN refunds r ON r.order_id = o.id
WHERE o.status = 'SHIPPED' AND r.id IS NOT NULL;
```

Если запрос вернул строки, правило нарушается или реализовано неполно.

### Пример 2: анализ структуры таблицы

В DBeaver/Navicat аналитик проверяет:

* типы полей и ограничения;
* внешние ключи;
* индексы для критичных запросов;
* nullable/non-nullable поля.

Это помогает избежать ошибок в требованиях до передачи в разработку.

### Пример 3: сравнение схем между стендами

При проблемах "работает на dev, не работает на test" полезно сравнить схемы:

* наличие колонок;
* различия типов;
* отсутствующие индексы/ограничения.

## Практика и безопасность

* Используйте read-only доступ там, где запись не нужна.
* Для экспериментов работайте на тестовых/стейджинг стендах.
* Не выполняйте потенциально разрушительные запросы без транзакции и backup.
* Документируйте важные SQL-проверки в задачах/Confluence.

## Типичные ошибки и как их избежать

* **Проверка только на одном стенде:** выводы могут быть ложными.  
  **Решение:** сверять dev/test/prod-схемы и данные.
* **SQL без ограничений:** риск тяжёлых запросов и блокировок.  
  **Решение:** всегда начинать с `LIMIT` и фильтрации.
* **Работа с production без процедуры согласования:** операционные риски.  
  **Решение:** следовать регламенту доступа и change management.

## Связь с другими темами

Тема связана с `SQL`, `Нормализацией`, `ERD`, `OLTP vs OLAP`, а также с `Jira и Confluence` (фиксация результатов анализа) и `Git` (хранение SQL-артефактов).

## Заключение

DBeaver и Navicat полезны аналитику как инструменты проверки реальности данных. Они помогают быстро валидировать требования, снижать риск неверных решений и улучшать качество коммуникации с разработкой и DBA.
